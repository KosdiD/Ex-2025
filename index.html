<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Smart Home XR Tour</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- A-Frame —Ç–∞ –ø–ª–∞–≥—ñ–Ω–∏ -->
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.5.4/dist/aframe-extras.min.js"></script>
    
    <style>
        body {
            margin: 0;
            background: black;
            font-family: sans-serif;
        }

        #controls-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 14px;
            max-width: 300px;
        }

        #controls-panel button {
            background: #00bcd4;
            color: white;
            border: none;
            padding: 8px 12px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 13px;
        }

        #controls-panel button:hover {
            background: #0097a7;
        }

        #controls-panel input {
            width: 60px;
            padding: 4px;
            margin: 0 5px;
        }

        #iot-info-panel {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.85);
            padding: 15px;
            color: white;
            border-radius: 10px;
            font-size: 14px;
            z-index: 1000;
            max-width: 350px;
            display: none;
        }

        #iot-info-panel.active {
            display: block;
        }

        #position-info {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            z-index: 1000;
        }

        .control-group {
            margin: 10px 0;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .control-group:last-child {
            border-bottom: none;
        }

        #marker-form {
            margin-top: 10px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }

        #marker-form input, #marker-form textarea {
            width: 100%;
            margin: 5px 0;
            padding: 5px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border-radius: 3px;
        }

        #marker-form button {
            width: 48%;
        }

        .info-label {
            color: #00bcd4;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- –ü–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è -->
    <div id="controls-panel">
        <div class="control-group">
            <strong>üéÆ –í–∏—Å–æ—Ç–∞ –≥—Ä–∞–≤—Ü—è:</strong><br>
            <button onclick="changeHeight(-1)">‚Üì</button>
            <input type="number" id="height-input" value="10" min="0" max="50">
            <button onclick="changeHeight(1)">‚Üë</button>
            <button onclick="setHeight()">–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏</button><br>
            <small>–ü–æ—Ç–æ—á–Ω–∞ –≤–∏—Å–æ—Ç–∞: <span id="current-height">10</span>–º</small>
        </div>

        <div class="control-group">
            <strong>üìç –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Ä–∫–µ—Ä—ñ–≤:</strong><br>
            <button onclick="createMarkerAtCurrentPosition()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Ä–∫–µ—Ä —Ç—É—Ç</button>
            <div id="marker-form" style="display: none;">
                <input type="text" id="marker-name" placeholder="–ù–∞–∑–≤–∞ –ø—Ä–∏—Å—Ç—Ä–æ—é">
                <textarea id="marker-description" placeholder="–û–ø–∏—Å –ø—Ä–∏—Å—Ç—Ä–æ—é" rows="3"></textarea>
                <button onclick="saveMarker()">‚úÖ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
                <button onclick="cancelMarker()">‚ùå –°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
        </div>

        <div class="control-group">
            <strong>üè† –®–≤–∏–¥–∫—ñ –¥—ñ—ó:</strong><br>
            <button onclick="resetPosition()">‚Ü©Ô∏è –ù–∞ –ø–æ—á–∞—Ç–æ–∫</button>
            <button onclick="toggleMarkers()">üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç–∏/–°—Ö–æ–≤–∞—Ç–∏</button>
        </div>

        <div class="control-group">
            <strong>üíæ –ï–∫—Å–ø–æ—Ä—Ç/–Ü–º–ø–æ—Ä—Ç:</strong><br>
            <button onclick="exportMarkers()">üì• –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –º–∞—Ä–∫–µ—Ä–∏</button>
            <button onclick="document.getElementById('import-file').click()">üì§ –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –º–∞—Ä–∫–µ—Ä–∏</button>
            <input type="file" id="import-file" accept=".json" style="display: none;" onchange="importMarkers(event)">
        </div>
    </div>

    <!-- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ–∑–∏—Ü—ñ—é -->
    <div id="position-info">
        <strong>–ü–æ–∑–∏—Ü—ñ—è:</strong><br>
        X: <span id="pos-x">0</span><br>
        Y: <span id="pos-y">10</span><br>
        Z: <span id="pos-z">20</span>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó IoT -->
    <div id="iot-info-panel">
        <h3 id="iot-title">IoT –ü—Ä–∏—Å—Ç—Ä—ñ–π</h3>
        <p><span class="info-label">–¢–∏–ø:</span> <span id="iot-type">-</span></p>
        <p><span class="info-label">–û–ø–∏—Å:</span> <span id="iot-description">-</span></p>
        <p><span class="info-label">–°—Ç–∞—Ç—É—Å:</span> <span id="iot-status">–ê–∫—Ç–∏–≤–Ω–∏–π</span></p>
        <p><span class="info-label">–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏:</span> <span id="iot-coords">-</span></p>
        <button onclick="closeIotPanel()">–ó–∞–∫—Ä–∏—Ç–∏</button>
    </div>

    <!-- XR —Å—Ü–µ–Ω–∞ -->
    <a-scene background="color: #87CEEB" fog="type: linear; color: #87CEEB; near: 10; far: 100">
        <!-- –ê—Å–µ—Ç–∏ -->
        <a-assets>
            <a-asset-item id="house-model" src="box.glb"></a-asset-item>
        </a-assets>

        <!-- –û—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è -->
        <a-light type="ambient" intensity="0.6"></a-light>
        <a-light type="directional" position="20 40 20" intensity="0.8" castShadow="true"></a-light>

        <!-- –ì—Ä—É–Ω—Ç -->
        <a-plane position="0 0 0" rotation="-90 0 0" width="200" height="200"
                 color="#4a5d4a" shadow="receive: true"></a-plane>

        <!-- –ë—É–¥–∏–Ω–æ–∫ -->
        <a-gltf-model src="#house-model" position="0 0 0" scale="1 1 1" rotation="0 0 0"
                      shadow="cast: true; receive: true" id="house">
        </a-gltf-model>

        <!-- –ö–∞–º–µ—Ä–∞ -->
        <a-entity id="rig" position="0 10 20" movement-controls="fly: false;">
            <a-entity id="camera"
                      camera
                      look-controls="pointerLockEnabled: true"
                      wasd-controls="acceleration: 25; fly: false"
                      position="0 1.6 0">
                <a-cursor fuse="false"
                          raycaster="objects: .iot-marker"
                          material="color: #00ff88; shader: flat">
                </a-cursor>
            </a-entity>
        </a-entity>

        <!-- –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –º–∞—Ä–∫–µ—Ä –Ω–∞ 0,0,0 -->
        <a-entity id="marker-0-0-0" position="0 0 0">
            <a-sphere class="iot-marker"
                      radius="0.5"
                      color="#00bcd4"
                      opacity="0.7"
                      event-set__enter="_event: mouseenter; scale: 1.2 1.2 1.2; opacity: 0.9"
                      event-set__leave="_event: mouseleave; scale: 1 1 1; opacity: 0.7"
                      animation="property: rotation; to: 0 360 0; loop: true; dur: 10000">
            </a-sphere>
            <a-text value="–†–æ–∑—É–º–Ω–∏–π —Ö–∞–±"
                    position="0 1 0"
                    width="4"
                    align="center"
                    color="#fff">
            </a-text>
        </a-entity>
    </a-scene>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
        let markersVisible = true;
        let tempMarkerPosition = null;
        let markerCounter = 1;
        let deviceData = {};

        // IoT –ø—Ä–∏—Å—Ç—Ä–æ—ó –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
        const defaultDevices = {
            'marker-0-0-0': {
                name: '–†–æ–∑—É–º–Ω–∏–π —Ö–∞–±',
                type: '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä',
                description: '–û—Å–Ω–æ–≤–Ω–∏–π —Ö–∞–± –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤—Å—ñ–º–∞ IoT –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏ –≤ –∫–≤–∞—Ä—Ç–∏—Ä—ñ',
                position: {x: 0, y: 0, z: 0}
            }
        };
        
        // –ö–æ–ø—ñ—é—î–º–æ –¥–µ—Ñ–æ–ª—Ç–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó –≤ —Ä–æ–±–æ—á—ñ –¥–∞–Ω—ñ
        deviceData = {...defaultDevices};

        // –§—É–Ω–∫—Ü—ñ—ó –∫–µ—Ä—É–≤–∞–Ω–Ω—è –≤–∏—Å–æ—Ç–æ—é
        function changeHeight(direction) {
            const input = document.getElementById('height-input');
            const currentValue = parseInt(input.value);
            const newValue = Math.max(0, Math.min(50, currentValue + direction));
            input.value = newValue;
            setHeight();
        }

        function setHeight() {
            const height = document.getElementById('height-input').value;
            const rig = document.getElementById('rig');
            const currentPos = rig.getAttribute('position');
            rig.setAttribute('position', `${currentPos.x} ${height} ${currentPos.z}`);
            document.getElementById('current-height').textContent = height;
        }

        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Ä–∫–µ—Ä–∞
        function createMarkerAtCurrentPosition() {
            const camera = document.getElementById('camera');
            const pos = camera.object3D.getWorldPosition(new THREE.Vector3());
            
            tempMarkerPosition = {
                x: Math.round(pos.x * 100) / 100,
                y: Math.round(pos.y * 100) / 100,
                z: Math.round(pos.z * 100) / 100
            };
            
            document.getElementById('marker-form').style.display = 'block';
            console.log(`üìç –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Ä–∫–µ—Ä–∞ –Ω–∞ –ø–æ–∑–∏—Ü—ñ—ó: x=${tempMarkerPosition.x}, y=${tempMarkerPosition.y}, z=${tempMarkerPosition.z}`);
        }

        function saveMarker() {
            const name = document.getElementById('marker-name').value || `IoT –ü—Ä–∏—Å—Ç—Ä—ñ–π ${markerCounter}`;
            const description = document.getElementById('marker-description').value || '–†–æ–∑—É–º–Ω–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π';
            
            const markerId = `marker-${markerCounter}`;
            const container = document.createElement('a-entity');
            container.setAttribute('id', markerId);
            container.setAttribute('position', `${tempMarkerPosition.x} ${tempMarkerPosition.y} ${tempMarkerPosition.z}`);
            
            // –°—Ñ–µ—Ä–∞ –º–∞—Ä–∫–µ—Ä–∞
            const marker = document.createElement('a-sphere');
            marker.setAttribute('class', 'iot-marker');
            marker.setAttribute('radius', '0.5');
            marker.setAttribute('color', '#00ff88');
            marker.setAttribute('opacity', '0.7');
            marker.setAttribute('event-set__enter', '_event: mouseenter; scale: 1.2 1.2 1.2; opacity: 0.9');
            marker.setAttribute('event-set__leave', '_event: mouseleave; scale: 1 1 1; opacity: 0.7');
            marker.setAttribute('animation', 'property: rotation; to: 0 360 0; loop: true; dur: 15000');
            
            // –¢–µ–∫—Å—Ç –Ω–∞–¥ –º–∞—Ä–∫–µ—Ä–æ–º
            const text = document.createElement('a-text');
            text.setAttribute('value', name);
            text.setAttribute('position', '0 1 0');
            text.setAttribute('width', '4');
            text.setAttribute('align', 'center');
            text.setAttribute('color', '#fff');
            
            container.appendChild(marker);
            container.appendChild(text);
            document.querySelector('a-scene').appendChild(container);
            
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –¥–∞–Ω—ñ –ø—Ä–æ –ø—Ä–∏—Å—Ç—Ä—ñ–π
            deviceData[markerId] = {
                name: name,
                type: 'IoT –ü—Ä–∏—Å—Ç—Ä—ñ–π',
                description: description,
                position: tempMarkerPosition
            };
            
            // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –∫–ª—ñ–∫—É
            marker.addEventListener('click', function() {
                showIotInfo(markerId);
            });
            
            markerCounter++;
            cancelMarker();
            
            console.log(`‚úÖ –ú–∞—Ä–∫–µ—Ä "${name}" —Å—Ç–≤–æ—Ä–µ–Ω–æ –Ω–∞ –ø–æ–∑–∏—Ü—ñ—ó:`, tempMarkerPosition);
        }

        function cancelMarker() {
            document.getElementById('marker-form').style.display = 'none';
            document.getElementById('marker-name').value = '';
            document.getElementById('marker-description').value = '';
            tempMarkerPosition = null;
        }

        // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ IoT
        function showIotInfo(markerId) {
            const device = deviceData[markerId];
            if (device) {
                document.getElementById('iot-title').textContent = device.name;
                document.getElementById('iot-type').textContent = device.type;
                document.getElementById('iot-description').textContent = device.description;
                document.getElementById('iot-coords').textContent = `X: ${device.position.x}, Y: ${device.position.y}, Z: ${device.position.z}`;
                document.getElementById('iot-info-panel').classList.add('active');
            }
        }

        function closeIotPanel() {
            document.getElementById('iot-info-panel').classList.remove('active');
        }

        // –ï–∫—Å–ø–æ—Ä—Ç –º–∞—Ä–∫–µ—Ä—ñ–≤
        function exportMarkers() {
            const exportData = {
                version: '1.0',
                exportDate: new Date().toISOString(),
                devices: deviceData,
                markerCounter: markerCounter
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `smart-home-iot-markers-${Date.now()}.json`;
            link.click();
            
            console.log('‚úÖ –ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ', Object.keys(deviceData).length, '–º–∞—Ä–∫–µ—Ä—ñ–≤');
        }

        // –Ü–º–ø–æ—Ä—Ç –º–∞—Ä–∫–µ—Ä—ñ–≤
        function importMarkers(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importData = JSON.parse(e.target.result);
                    
                    // –í–∏–¥–∞–ª—è—î–º–æ –≤—Å—ñ —ñ—Å–Ω—É—é—á—ñ –º–∞—Ä–∫–µ—Ä–∏ (–∫—Ä—ñ–º –¥–µ—Ñ–æ–ª—Ç–Ω–∏—Ö)
                    Object.keys(deviceData).forEach(markerId => {
                        if (!defaultDevices[markerId]) {
                            const element = document.getElementById(markerId);
                            if (element) element.remove();
                        }
                    });
                    
                    // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –Ω–æ–≤—ñ –¥–∞–Ω—ñ
                    deviceData = {...importData.devices};
                    markerCounter = importData.markerCounter || Object.keys(deviceData).length;
                    
                    // –°—Ç–≤–æ—Ä—é—î–º–æ –º–∞—Ä–∫–µ—Ä–∏ –∑—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö
                    Object.entries(deviceData).forEach(([markerId, device]) => {
                        if (!defaultDevices[markerId]) {
                            createMarkerFromData(markerId, device);
                        }
                    });
                    
                    console.log('‚úÖ –Ü–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ', Object.keys(deviceData).length, '–º–∞—Ä–∫–µ—Ä—ñ–≤');
                    alert('–ú–∞—Ä–∫–µ—Ä–∏ —É—Å–ø—ñ—à–Ω–æ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ!');
                    
                } catch (error) {
                    console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ —ñ–º–ø–æ—Ä—Ç—É:', error);
                    alert('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ —ñ–º–ø–æ—Ä—Ç—ñ —Ñ–∞–π–ª—É. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª—É.');
                }
            };
            reader.readAsText(file);
            
            // –û—á–∏—â–∞—î–º–æ input –¥–ª—è –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–±–æ—Ä—É —Ç–æ–≥–æ –∂ —Ñ–∞–π–ª—É
            event.target.value = '';
        }

        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Ä–∫–µ—Ä–∞ –∑ –¥–∞–Ω–∏—Ö
        function createMarkerFromData(markerId, device) {
            const container = document.createElement('a-entity');
            container.setAttribute('id', markerId);
            container.setAttribute('position', `${device.position.x} ${device.position.y} ${device.position.z}`);
            
            // –°—Ñ–µ—Ä–∞ –º–∞—Ä–∫–µ—Ä–∞
            const marker = document.createElement('a-sphere');
            marker.setAttribute('class', 'iot-marker');
            marker.setAttribute('radius', '0.5');
            marker.setAttribute('color', '#00ff88');
            marker.setAttribute('opacity', '0.7');
            marker.setAttribute('event-set__enter', '_event: mouseenter; scale: 1.2 1.2 1.2; opacity: 0.9');
            marker.setAttribute('event-set__leave', '_event: mouseleave; scale: 1 1 1; opacity: 0.7');
            marker.setAttribute('animation', 'property: rotation; to: 0 360 0; loop: true; dur: 15000');
            
            // –¢–µ–∫—Å—Ç –Ω–∞–¥ –º–∞—Ä–∫–µ—Ä–æ–º
            const text = document.createElement('a-text');
            text.setAttribute('value', device.name);
            text.setAttribute('position', '0 1 0');
            text.setAttribute('width', '4');
            text.setAttribute('align', 'center');
            text.setAttribute('color', '#fff');
            
            container.appendChild(marker);
            container.appendChild(text);
            document.querySelector('a-scene').appendChild(container);
            
            // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –∫–ª—ñ–∫—É
            marker.addEventListener('click', function() {
                showIotInfo(markerId);
            });
        }

        // –®–≤–∏–¥–∫—ñ –¥—ñ—ó
        function resetPosition() {
            document.getElementById('rig').setAttribute('position', '0 10 20');
            document.getElementById('height-input').value = 10;
            document.getElementById('current-height').textContent = 10;
        }

        function toggleMarkers() {
            markersVisible = !markersVisible;
            const markers = document.querySelectorAll('.iot-marker');
            markers.forEach(marker => {
                marker.setAttribute('visible', markersVisible);
            });
        }

        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ—ó
        function updatePositionDisplay() {
            const camera = document.getElementById('camera');
            const pos = camera.object3D.getWorldPosition(new THREE.Vector3());
            document.getElementById('pos-x').textContent = pos.x.toFixed(1);
            document.getElementById('pos-y').textContent = pos.y.toFixed(1);
            document.getElementById('pos-z').textContent = pos.z.toFixed(1);
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        document.addEventListener('DOMContentLoaded', function() {
            console.log('‚úÖ Smart Home XR Tour –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ');
            setHeight();
            
            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–∑–∏—Ü—ñ—ó –∫–æ–∂–Ω—ñ 100–º—Å
            setInterval(updatePositionDisplay, 100);
            
            // –û–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞
            const initialMarker = document.querySelector('#marker-0-0-0 .iot-marker');
            if (initialMarker) {
                initialMarker.addEventListener('click', function() {
                    showIotInfo('marker-0-0-0');
                });
            }
            
            // –û–±—Ä–æ–±–∫–∞ –∫–ª–∞–≤—ñ—à
            document.addEventListener('keydown', (e) => {
                switch(e.key.toLowerCase()) {
                    case 'q':
                        changeHeight(1);
                        break;
                    case 'e':
                        changeHeight(-1);
                        break;
                    case 'r':
                        resetPosition();
                        break;
                    case 'm':
                        createMarkerAtCurrentPosition();
                        break;
                    case 'h':
                        toggleMarkers();
                        break;
                }
            });
            
            // Pointer lock
            document.addEventListener('click', () => {
                const canvas = document.querySelector('a-scene canvas');
                if (canvas && !document.pointerLockElement) {
                    canvas.requestPointerLock();
                }
            });
        });

        // –ì–ª–æ–±–∞–ª—å–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
        window.changeHeight = changeHeight;
        window.setHeight = setHeight;
        window.createMarkerAtCurrentPosition = createMarkerAtCurrentPosition;
        window.saveMarker = saveMarker;
        window.cancelMarker = cancelMarker;
        window.resetPosition = resetPosition;
        window.toggleMarkers = toggleMarkers;
        window.showIotInfo = showIotInfo;
        window.closeIotPanel = closeIotPanel;
        window.exportMarkers = exportMarkers;
        window.importMarkers = importMarkers;
    </script>
</body>
</html>
